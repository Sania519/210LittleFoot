<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Littlefoot and Sidebar Demo</title>
    <!-- Include the combined CSS for both Littlefoot and footnote sidebar -->
    <!-- Littlefoot CSS and JS -->
    <link rel="stylesheet" href="./littlefoot/dist/littlefoot.css">
    <!-- <link rel="stylesheet" href="styles.css"> -->
    <script src="./littlefoot/dist/littlefoot.js"></script>
</head>
<body>
    <!-- Main Content -->
    <main>
        <p>
            This is a sentence with a footnote<sup id="fnref:1">
                <a href="#fn:1" class="littlefoot__button" data-footnote-id="1">1</a>
            </sup>.
        </p>

        <!-- Footnote List -->
        <!-- <div class="footnotes">
            <ol>
                <li class="footnote" id="fn:1">
                    <p>This is the footnote content. 
                        <a href="#fnref:1" title="return to article">â†©</a>
                    </p>
                </li>
            </ol>
        </div> -->
    </main>

    <!-- Footnote Sidebar -->
    <div id="footnote-sidebar">
        <h2>Footnotes</h2>
        <div id="footnote-content">
            <div class="footnote-item">
                <p id="footnote1">This is the footnote content in the sidebar.</p>
            </div>
        </div>
    </div>

    <!-- Littlefoot Initialization -->
    <script>
        littlefoot.default({
            allowMultiple: false,
            anchorPattern: /fnref[:\-](\d+)/,
        });
    </script>

    <!-- Optional Script to toggle sidebar visibility -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const sidebar = document.getElementById('footnote-sidebar');
            const footnoteLinks = document.querySelectorAll('sup a');

            footnoteLinks.forEach(link => {
                link.addEventListener('click', function () {
                    sidebar.classList.add('active'); // Show sidebar when footnote link is clicked
                });
            });

            // Close the sidebar by clicking outside or some other method
            document.addEventListener('click', function (event) {
                if (!sidebar.contains(event.target) && !event.target.matches('sup a')) {
                    sidebar.classList.remove('active'); // Hide sidebar when clicking outside
                }
            });
        });
    </script>
</body>
</html>